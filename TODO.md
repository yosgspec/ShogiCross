# TODOリスト
## やる予定のこと
* [ ] jsonのインポート手段を増やす
* [ ] CSSとファビコンの参照を解決する
* [x] ライブラリとして配布する
  * [x] 文面として導入方法を記載
  * [x] jsdocのドキュメント化
  * [ ] 不要なメンバの非公開化
  * [ ] ディレクトリ構成の見直し
  * [x] npmにライブラリとして公開してみる
    * https://deku.posstree.com/share/deploy-npm-library/

## 検討中のこと
* [ ] ゲームとして成立するようにする
* [ ] 2手で1手とみなせるようにする
  * [ ] アンパッサン、キャスリング、獅子、飛鷹、角鷲など
  * [ ] 他の駒の移動を全てブロッキングとか?
* [ ] テストライブラリの導入
* [ ] エラートラップの充実
* [ ] 駒台を含めた反転機能を実装
  * パネルの座標情報が機能しなくなるため現状は保留
  * 回転するたびに座標の書き換えか、パネルに座標情報を持たさないようにする必要がある
  * 古の版では座標情報はボードに握らせていたため当時は問題とならなかった

## (現状)やる予定のないこと/できないこと
* CPU実装
* ネット対戦対応
* TypeScript化
  * vanillaで動く環境を維持したい
* jQuery導入
  * むやみに依存関係を増やすのはNG

## 対応済み
* [x] 泥版スレイプニルで画像を保存できない件を修正
* [x] 王駒の残数カウントを追加
* [x] アプリ・ライブラリの特徴(できること/できないこと)をまとめる
* [x] Standの駒の管理を配列からMapへ変更
* [x] BOD関連の処理をBodクラスに集約
* [x] BOD形式の盤面入力
* [x] マス目に画像を設定できるようにする
* [x] サーバー起動スクリプト追加(vite)
* [x] 将棋類紹介のリンクターゲットを"_blank"に変更
* [x] 表示サイズの自動調整について、親要素依存の値も設定もできるようにする(現在viewport依存のみ)
* [x] 既にstyleのサイズが設定されている場合は上書きしないようにする
* [x] コマのサイズ変更対応(大駒小駒)
  * 駒の価値でサイズ分ける処理は部分的にもう作ってある
* [x] 影をつける
* [x] 画像出力機能を付ける
* [x] 炮、包の駒取得制限追加
* [x] ドキュメントを更新する
  * [x] ファイル差し替え
  * [x] 駒配置画像の差し替え
* [x] index.htmlのゲームセレクトをメイン/バリエーションの2段階選択にする
* [x] BOD形式の盤面出力
* [x] npmで動作する画像最適化ライブラリを導入
* [x] クロスゲームの駒セットがうまく切り替わらない問題を確認
* [x] 型定義ファイル(.d.ts)を生成してみる
  * https://www.typescriptlang.org/ja/docs/handbook/declaration-files/dts-from-js.html
* [x] 将棋類紹介、ゲーム単品リストの処理の軽量化
  * [ ] ~~innerHTML代入に書き換える~~
  * [x] 仮想?DOMの使用・ゲーム起動の非同期化
